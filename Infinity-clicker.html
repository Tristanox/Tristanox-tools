<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Clicker Th√®me Sombre</title>
    
    <style>
        /* --- Styles CSS g√©n√©raux --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #202225; /* Th√®me sombre: Arri√®re-plan du corps */
            margin: 0;
            color: #ffffff; /* Texte g√©n√©ral blanc */
            overflow: hidden; /* Emp√™che le d√©filement de la page principale */
        }

        .container {
            display: flex;
            width: 95%;
            max-width: 1400px;
            height: 90vh;
            max-height: 800px;
            background-color: #292b2f; /* Th√®me sombre: Conteneur principal */
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3); /* Ombre plus prononc√©e pour la visibilit√© */
            border: 1px solid #40444b; /* Bordure subtile */
            overflow: hidden;
            position: relative; /* Permet le positionnement absolu des boutons de sauvegarde */
        }

        /* --- Zone de jeu principale (milieu) --- */
        .game-area {
            flex-grow: 1;
            text-align: center;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .game-area h1 {
            font-size: 3em;
            margin-bottom: 5px;
            color: #3266a8; /* Th√®me sombre: Titre principal (Clicks) */
        }

        .stats-display {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #ffffff; /* Texte des stats en blanc */
            line-height: 1.4;
        }

        #clicks-display {
            font-weight: bold;
            color: #28a745; /* Clicks en vert pour la visibilit√© */
        }
        #cps-display, #click-power-display {
            font-weight: bold;
            color: #ffc107; /* CPS et puissance de clic en jaune/orange */
        }

        #main-button {
            width: 250px;
            height: 250px;
            object-fit: contain;
            cursor: pointer;
            transition: transform 0.1s ease-out;
            border: none; /* Supprime le contour */
            border-radius: 50%;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4); /* Ombre plus fonc√©e */
            margin-top: 15px;
            z-index: 10;
        }

        #main-button:active {
            transform: scale(0.95);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.6);
        }

        /* --- Menu d'am√©liorations (droite) --- */
        .upgrade-menu {
            width: 300px;
            background-color: #2f3136; /* Th√®me sombre: Fond du menu d'am√©liorations */
            padding: 20px;
            border-left: 1px solid #40444b; /* Bordure √† gauche du menu */
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 8px; /* Espace r√©duit entre les boutons pour en afficher plus */
        }

        .upgrade-menu h2 {
            color: #3266a8; /* Th√®me sombre: Titre du menu d'am√©liorations */
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.6em;
            text-align: center;
        }

        .upgrade-category-title {
            color: #3266a8;
            font-size: 1.1em;
            margin-top: 15px;
            margin-bottom: 5px;
            text-align: left;
            border-bottom: 1px solid #40444b;
            padding-bottom: 5px;
        }

        .upgrade-menu button {
            display: block;
            width: 100%;
            padding: 8px 12px;
            font-size: 0.9em;
            cursor: pointer;
            background-color: #40444b; /* Th√®me sombre: Couleur de fond des boutons */
            color: #ffffff; /* Texte des boutons en blanc */
            border: none;
            border-radius: 8px;
            transition: background-color 0.2s ease, transform 0.1s ease;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
            text-align: left;
            white-space: normal;
            line-height: 1.2;
        }

        .upgrade-menu button:hover {
            background-color: #3266a8; /* Th√®me sombre: Couleur au survol (le bleu accent) */
            transform: translateY(-2px);
        }

        .upgrade-menu button:active {
            background-color: #2c548a; /* Une nuance plus fonc√©e du bleu accent */
            transform: translateY(0);
        }

        .upgrade-menu button:disabled {
            background-color: #3a3d40; /* Couleur des boutons d√©sactiv√©s */
            cursor: not-allowed;
            box-shadow: none;
            color: #888; /* Texte gris clair pour les boutons d√©sactiv√©s */
        }
        
        .upgrade-button-cost {
            font-size: 0.75em;
            opacity: 0.9;
            margin-top: 2px;
            color: rgba(255, 255, 255, 0.8); /* Co√ªt en blanc transparent */
        }

        /* --- Boutons en haut √† gauche (sauvegarde/chargement/image) --- */
        .top-right-buttons {
            position: absolute;
            top: 15px;
            left: 15px; /* Align√© √† gauche, comme demand√© */
            display: flex; /* Utilise Flexbox */
            gap: 10px; /* Espace entre les boutons */
            z-index: 10; /* S'assure que les boutons sont au-dessus du reste */
        }

        .top-right-buttons button {
            padding: 8px 15px;
            font-size: 0.85em;
            background-color: #40444b;
            color: #ffffff;
            border: 1px solid #5a5d61;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .top-right-buttons button:hover {
            background-color: #3266a8; /* Utilisez la couleur d'accent pour le survol */
            border-color: #3266a8;
        }

        .top-right-buttons button:active {
            background-color: #2c548a;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="top-right-buttons">
            <button id="import-button">Importer</button>
            <button id="export-button">Exporter</button>
            <button id="change-image-button">Changer l'image</button>
        </div>

        <div class="game-area">
            <h1>Clicks: <span id="clicks-display">0</span></h1>
            <div class="stats-display">
                Clicks par Seconde (CPS): <span id="cps-display">0.00</span><br>
                Puissance de Clic: <span id="click-power-display">1</span>
            </div>
            
            <img src="https://images.emojiterra.com/google/android-11/1024px/1f354.png" alt="Bouton Principal" id="main-button" class="clickable">
        </div>

        <div class="upgrade-menu">
            <h2>Am√©liorations</h2>

            <div class="upgrade-category-title">G√©n√©rateurs de Clics par Seconde (CPS)</div>
            <button id="buy-auto-clicker">
                üñ±Ô∏è Auto-Clicker <span class="upgrade-button-level">(Niv. <span id="level-auto-clicker">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-auto-clicker">10</span> Clicks</div>
            </button>
            <button id="buy-super-auto-clicker">
                ‚ö° Super Auto-Clicker <span class="upgrade-button-level">(Niv. <span id="level-super-auto-clicker">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-super-auto-clicker">100</span> Clicks</div>
            </button>
            <button id="buy-mega-auto-clicker">
                üî• Mega Auto-Clicker <span class="upgrade-button-level">(Niv. <span id="level-mega-auto-clicker">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-mega-auto-clicker">1000</span> Clicks</div>
            </button>
            <button id="buy-gigabit-auto-clicker">
                üì° Gigabit Auto-Clicker <span class="upgrade-button-level">(Niv. <span id="level-gigabit-auto-clicker">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-gigabit-auto-clicker">10000</span> Clicks</div>
            </button>
            <button id="buy-terabit-auto-clicker">
                üöÄ Terabit Auto-Clicker <span class="upgrade-button-level">(Niv. <span id="level-terabit-auto-clicker">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-terabit-auto-clicker">100000</span> Clicks</div>
            </button>
            <button id="buy-quantum-auto-clicker">
                ‚öõÔ∏è Quantum Auto-Clicker <span class="upgrade-button-level">(Niv. <span id="level-quantum-auto-clicker">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-quantum-auto-clicker">1000000</span> Clicks</div>
            </button>
            <button id="buy-infinite-loop">
                ‚ôæÔ∏è Boucle Infinie <span class="upgrade-button-level">(Niv. <span id="level-infinite-loop">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-infinite-loop">10000000</span> Clicks</div>
            </button>
            <button id="buy-temporal-manipulator">
                ‚è≥ Manipulateur Temporel <span class="upgrade-button-level">(Niv. <span id="level-temporal-manipulator">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-temporal-manipulator">100000000</span> Clicks</div>
            </button>
            <button id="buy-reality-bender">
                üåÄ Cintreur de R√©alit√© <span class="upgrade-button-level">(Niv. <span id="level-reality-bender">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-reality-bender">1000000000</span> Clicks</div>
            </button>
            <button id="buy-void-nexus">
                üåå Nexus du Vide <span class="upgrade-button-level">(Niv. <span id="level-void-nexus">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-void-nexus">10000000000</span> Clicks</div>
            </button>
            <button id="buy-cosmic-engine">
                üåü Moteur Cosmique <span class="upgrade-button-level">(Niv. <span id="level-cosmic-engine">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-cosmic-engine">50000000000</span> Clicks</div>
            </button>
            <button id="buy-dimensional-fabricator">
                üèóÔ∏è Fabricateur Dimensionnel <span class="upgrade-button-level">(Niv. <span id="level-dimensional-fabricator">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-dimensional-fabricator">250000000000</span> Clicks</div>
            </button>
            <button id="buy-celestial-forge">
                ‚ú® Forge C√©leste <span class="upgrade-button-level">(Niv. <span id="level-celestial-forge">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-celestial-forge">1000000000000</span> Clicks</div>
            </button>
            <button id="buy-omni-accelerator">
                üí® Omni-Acc√©l√©rateur <span class="upgrade-button-level">(Niv. <span id="level-omni-accelerator">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-omni-accelerator">5000000000000</span> Clicks</div>
            </button>
            <button id="buy-galactic-conduit">
                üõ∞Ô∏è Conduit Galactique <span class="upgrade-button-level">(Niv. <span id="level-galactic-conduit">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-galactic-conduit">25000000000000</span> Clicks</div>
            </button>
            <button id="buy-universal-harmonizer">
                ‚òØÔ∏è Harmoniseur Universel <span class="upgrade-button-level">(Niv. <span id="level-universal-harmonizer">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-universal-harmonizer">100000000000000</span> Clicks</div>
            </button>
            <button id="buy-creator-engine">
                üåü Moteur du Cr√©ateur <span class="upgrade-button-level">(Niv. <span id="level-creator-engine">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-creator-engine">500000000000000</span> Clicks</div>
            </button>
            <button id="buy-absolute-genesis">
                üå† Gen√®se Absolue <span class="upgrade-button-level">(Niv. <span id="level-absolute-genesis">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-absolute-genesis">2500000000000000</span> Clicks</div>
            </button>
            <button id="buy-cosmic-singularity">
                ‚ö´ Singularit√© Cosmique <span class="upgrade-button-level">(Niv. <span id="level-cosmic-singularity">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-cosmic-singularity">10000000000000000</span> Clicks</div>
            </button>
            <button id="buy-infinite-paradigm">
                ‚ú® Paradigme Infini <span class="upgrade-button-level">(Niv. <span id="level-infinite-paradigm">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-infinite-paradigm">50000000000000000</span> Clicks</div>
            </button>
            <button id="buy-divine-ascension">
                üòá Ascension Divine <span class="upgrade-button-level">(Niv. <span id="level-divine-ascension">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-divine-ascension">250000000000000000</span> Clicks</div>
            </button>
            <button id="buy-omega-trigger">
                üí• D√©clencheur Om√©ga <span class="upgrade-button-level">(Niv. <span id="level-omega-trigger">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-omega-trigger">1000000000000000000</span> Clicks</div>
            </button>
            <button id="buy-primordial-spark">
                üî• √âtincelle Primordiale <span class="upgrade-button-level">(Niv. <span id="level-primordial-spark">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-primordial-spark">5000000000000000000</span> Clicks</div>
            </button>
            <button id="buy-void-fabric">
                üåÄ Tissu du Vide <span class="upgrade-button-level">(Niv. <span id="level-void-fabric">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-void-fabric">25000000000000000000</span> Clicks</div>
            </button>
            <button id="buy-celestial-chrono">
                ‚è≥ Chronom√®tre C√©leste <span class="upgrade-button-level">(Niv. <span id="level-celestial-chrono">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-celestial-chrono">100000000000000000000</span> Clicks</div>
            </button>
            <button id="buy-ethernal-pulsar">
                 pulsar √âternel <span class="upgrade-button-level">(Niv. <span id="level-ethernal-pulsar">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-ethernal-pulsar">500000000000000000000</span> Clicks</div>
            </button>

            <div class="upgrade-category-title">Boost de Puissance de Clic</div>
            <button id="buy-click-booster">
                üí™ Booster de Clics <span class="upgrade-button-level">(Niv. <span id="level-click-booster">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-click-booster">50</span> Clicks</div>
            </button>
            <button id="buy-power-glove">
                ü•ä Gant de Puissance <span class="upgrade-button-level">(Niv. <span id="level-power-glove">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-power-glove">250</span> Clicks</div>
            </button>
            <button id="buy-mechanical-finger">
                ü§ñ Doigt M√©canique <span class="upgrade-button-level">(Niv. <span id="level-mechanical-finger">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-mechanical-finger">1000</span> Clicks</div>
            </button>
            <button id="buy-cybernetic-hand">
                ü¶æ Main Cybern√©tique <span class="upgrade-button-level">(Niv. <span id="level-cybernetic-hand">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-cybernetic-hand">5000</span> Clicks</div>
            </button>
            <button id="buy-titan-grip">
                üí¢ Poigne de Titan <span class="upgrade-button-level">(Niv. <span id="level-titan-grip">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-titan-grip">25000</span> Clicks</div>
            </button>
            <button id="buy-graviton-press">
                ü™® Presse √† Gravitons <span class="upgrade-button-level">(Niv. <span id="level-graviton-press">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-graviton-press">100000</span> Clicks</div>
            </button>
            <button id="buy-black-hole-touch">
                ‚ö´ Toucher Trou Noir <span class="upgrade-button-level">(Niv. <span id="level-black-hole-touch">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-black-hole-touch">500000</span> Clicks</div>
            </button>
            <button id="buy-reality-shatterer">
                üí• Briseur de R√©alit√© <span class="upgrade-button-level">(Niv. <span id="level-reality-shatterer">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-reality-shatterer">2500000</span> Clicks</div>
            </button>
            <button id="buy-cosmic-impact">
                üå† Impact Cosmique <span class="upgrade-button-level">(Niv. <span id="level-cosmic-impact">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-cosmic-impact">10000000</span> Clicks</div>
            </button>
            <button id="buy-void-punch">
                üï≥Ô∏è Coup du Vide <span class="upgrade-button-level">(Niv. <span id="level-void-punch">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-void-punch">50000000</span> Clicks</div>
            </button>
            <button id="buy-stellar-fist">
                üåü Poing Stellaire <span class="upgrade-button-level">(Niv. <span id="level-stellar-fist">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-stellar-fist">250000000</span> Clicks</div>
            </button>
            <button id="buy-galaxial-strike">
                üí´ Frappe Galactique <span class="upgrade-button-level">(Niv. <span id="level-galaxial-strike">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-galaxial-strike">1000000000</span> Clicks</div>
            </button>
            <button id="buy-infinite-power">
                ‚ö° Puissance Infinie <span class="upgrade-button-level">(Niv. <span id="level-infinite-power">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-infinite-power">5000000000</span> Clicks</div>
            </button>
            <button id="buy-divine-might">
                ‚ú® Puissance Divine <span class="upgrade-button-level">(Niv. <span id="level-divine-might">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-divine-might">25000000000</span> Clicks</div>
            </button>
            <button id="buy-cosmic-force">
                üåå Force Cosmique <span class="upgrade-button-level">(Niv. <span id="level-cosmic-force">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-cosmic-force">100000000000</span> Clicks</div>
            </button>
            <button id="buy-genesis-touch">
                üå± Toucher de la Gen√®se <span class="upgrade-button-level">(Niv. <span id="level-genesis-touch">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-genesis-touch">500000000000</span> Clicks</div>
            </button>
            <button id="buy-creation-fist">
                ‚úä Poing de la Cr√©ation <span class="upgrade-button-level">(Niv. <span id="level-creation-fist">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-creation-fist">2500000000000</span> Clicks</div>
            </button>
            <button id="buy-omega-strike">
                ‚òÑÔ∏è Frappe Om√©ga <span class="upgrade-button-level">(Niv. <span id="level-omega-trigger">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-omega-strike">10000000000000</span> Clicks</div>
            </button>
            <button id="buy-primordial-punch">
                üåã Coup Primordial <span class="upgrade-button-level">(Niv. <span id="level-primordial-spark">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-primordial-punch">50000000000000</span> Clicks</div>
            </button>
            <button id="buy-ascendant-blow">
                ‚ú® Frappe Ascendante <span class="upgrade-button-level">(Niv. <span id="level-ascendant-blow">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-ascendant-blow">250000000000000</span> Clicks</div>
            </button>
            <button id="buy-ultimate-force">
                üí™ Force Ultime <span class="upgrade-button-level">(Niv. <span id="level-ultimate-force">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-ultimate-force">1000000000000000</span> Clicks</div>
            </button>
            <button id="buy-infinite-strike">
                ‚ôæÔ∏è Frappe Infinie <span class="upgrade-button-level">(Niv. <span id="level-infinite-strike">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-infinite-strike">5000000000000000</span> Clicks</div>
            </button>
            <button id="buy-cosmic-punch">
                ü™ê Coup Cosmique <span class="upgrade-button-level">(Niv. <span id="level-cosmic-punch">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-cosmic-punch">25000000000000000</span> Clicks</div>
            </button>
            <button id="buy-ethernal-fist">
                üí´ Poing √âternel <span class="upgrade-button-level">(Niv. <span id="level-ethernal-fist">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-ethernal-fist">100000000000000000</span> Clicks</div>
            </button>
            <button id="buy-divine-fury">
                üî• Fureur Divine <span class="upgrade-button-level">(Niv. <span id="level-divine-fury">0</span>)</span>
                <div class="upgrade-button-cost">Co√ªt: <span id="cost-divine-fury">500000000000000000</span> Clicks</div>
            </button>

        </div>
    </div>

    <script>
        /* --- Logique JavaScript du jeu --- */
        // Variables du Jeu
        let clicks = 0;
        let baseClickPower = 1; // Puissance de clic de base
        let totalCps = 0; // Total des clics par seconde g√©n√©r√©s
        
        // --- Am√©liorations (co√ªt, effet, niveau, etc.) ---
        const upgrades = {
            // G√©n√©rateurs de Clicks par Seconde (CPS) - Effets additionnels
            'auto-clicker': { 
                name: "Auto-Clicker", type: 'cps', baseCost: 10, costMultiplier: 1.15, baseEffect: 0.1, level: 0 
            },
            'super-auto-clicker': { 
                name: "Super Auto-Clicker", type: 'cps', baseCost: 100, costMultiplier: 1.15, baseEffect: 1, level: 0 
            },
            'mega-auto-clicker': { 
                name: "Mega Auto-Clicker", type: 'cps', baseCost: 1000, costMultiplier: 1.15, baseEffect: 10, level: 0 
            },
            'gigabit-auto-clicker': { 
                name: "Gigabit Auto-Clicker", type: 'cps', baseCost: 10000, costMultiplier: 1.15, baseEffect: 100, level: 0 
            },
            'terabit-auto-clicker': { 
                name: "Terabit Auto-Clicker", type: 'cps', baseCost: 100000, costMultiplier: 1.15, baseEffect: 1000, level: 0 
            },
            'quantum-auto-clicker': { 
                name: "Quantum Auto-Clicker", type: 'cps', baseCost: 1000000, costMultiplier: 1.15, baseEffect: 10000, level: 0 
            },
            'infinite-loop': { 
                name: "Boucle Infinie", type: 'cps', baseCost: 10000000, costMultiplier: 1.15, baseEffect: 100000, level: 0 
            },
            'temporal-manipulator': { 
                name: "Manipulateur Temporel", type: 'cps', baseCost: 100000000, costMultiplier: 1.15, baseEffect: 1000000, level: 0 
            },
            'reality-bender': { 
                name: "Cintreur de R√©alit√©", type: 'cps', baseCost: 1000000000, costMultiplier: 1.15, baseEffect: 10000000, level: 0 
            },
            'void-nexus': { 
                name: "Nexus du Vide", type: 'cps', baseCost: 10000000000, costMultiplier: 1.15, baseEffect: 100000000, level: 0 
            },
            'cosmic-engine': { 
                name: "Moteur Cosmique", type: 'cps', baseCost: 50000000000, costMultiplier: 1.15, baseEffect: 500000000, level: 0 
            },
            'dimensional-fabricator': { 
                name: "Fabricateur Dimensionnel", type: 'cps', baseCost: 250000000000, costMultiplier: 1.15, baseEffect: 2500000000, level: 0 
            },
            'celestial-forge': { 
                name: "Forge C√©leste", type: 'cps', baseCost: 1000000000000, costMultiplier: 1.15, baseEffect: 10000000000, level: 0 
            },
            'omni-accelerator': { 
                name: "Omni-Acc√©l√©rateur", type: 'cps', baseCost: 5000000000000, costMultiplier: 1.15, baseEffect: 50000000000, level: 0 
            },
            'galactic-conduit': { 
                name: "Conduit Galactique", type: 'cps', baseCost: 25000000000000, costMultiplier: 1.15, baseEffect: 250000000000, level: 0 
            },
            'universal-harmonizer': { 
                name: "Harmoniseur Universel", type: 'cps', baseCost: 100000000000000, costMultiplier: 1.15, baseEffect: 1000000000000, level: 0 
            },
            'creator-engine': { 
                name: "Moteur du Cr√©ateur", type: 'cps', baseCost: 500000000000000, costMultiplier: 1.15, baseEffect: 5000000000000, level: 0
            },
            'absolute-genesis': { 
                name: "Gen√®se Absolue", type: 'cps', baseCost: 2500000000000000, costMultiplier: 1.15, baseEffect: 25000000000000, level: 0 
            },
            'cosmic-singularity': { 
                name: "Singularit√© Cosmique", type: 'cps', baseCost: 10000000000000000, costMultiplier: 1.15, baseEffect: 100000000000000, level: 0 
            },
            'infinite-paradigm': { 
                name: "Paradigme Infini", type: 'cps', baseCost: 50000000000000000, costMultiplier: 1.15, baseEffect: 500000000000000, level: 0 
            },
            'divine-ascension': { 
                name: "Ascension Divine", type: 'cps', baseCost: 250000000000000000, costMultiplier: 1.15, baseEffect: 2500000000000000, level: 0 
            },
            'omega-trigger': { 
                name: "D√©clencheur Om√©ga", type: 'cps', baseCost: 1000000000000000000, costMultiplier: 1.15, baseEffect: 10000000000000000, level: 0 
            },
            'primordial-spark': { 
                name: "√âtincelle Primordiale", type: 'cps', baseCost: 5000000000000000000, costMultiplier: 1.15, baseEffect: 50000000000000000, level: 0 
            },
            'void-fabric': { 
                name: "Tissu du Vide", type: 'cps', baseCost: 25000000000000000000, costMultiplier: 1.15, baseEffect: 250000000000000000, level: 0 
            },
            'celestial-chrono': { 
                name: "Chronom√®tre C√©leste", type: 'cps', baseCost: 100000000000000000000, costMultiplier: 1.15, baseEffect: 1000000000000000000, level: 0 
            },
            'ethernal-pulsar': { 
                name: "Pulsar √âternel", type: 'cps', baseCost: 500000000000000000000, costMultiplier: 1.15, baseEffect: 5000000000000000000, level: 0 
            },


            // Puissance de Clic (Effets additionnels)
            'click-booster': { 
                name: "Booster de Clics", type: 'click_power', baseCost: 50, costMultiplier: 1.5, baseEffect: 1, level: 0 
            }, // Ajoute 1 √† clickPower
            'power-glove': { 
                name: "Gant de Puissance", type: 'click_power', baseCost: 250, costMultiplier: 1.5, baseEffect: 2, level: 0 
            },
            'mechanical-finger': { 
                name: "Doigt M√©canique", type: 'click_power', baseCost: 1000, costMultiplier: 1.5, baseEffect: 5, level: 0 
            },
            'cybernetic-hand': { 
                name: "Main Cybern√©tique", type: 'click_power', baseCost: 5000, costMultiplier: 1.5, baseEffect: 10, level: 0 
            },
            'titan-grip': { 
                name: "Poigne de Titan", type: 'click_power', baseCost: 25000, costMultiplier: 1.5, baseEffect: 25, level: 0 
            },
            'graviton-press': { 
                name: "Presse √† Gravitons", type: 'click_power', baseCost: 100000, costMultiplier: 1.5, baseEffect: 50, level: 0 
            },
            'black-hole-touch': { 
                name: "Toucher Trou Noir", type: 'click_power', baseCost: 500000, costMultiplier: 1.5, baseEffect: 100, level: 0 
            },
            'reality-shatterer': { 
                name: "Briseur de R√©alit√©", type: 'click_power', baseCost: 2500000, costMultiplier: 1.5, baseEffect: 250, level: 0 
            },
            'cosmic-impact': { 
                name: "Impact Cosmique", type: 'click_power', baseCost: 10000000, costMultiplier: 1.5, baseEffect: 500, level: 0 
            },
            'void-punch': { 
                name: "Coup du Vide", type: 'click_power', baseCost: 50000000, costMultiplier: 1.5, baseEffect: 1000, level: 0 
            },
            'stellar-fist': { 
                name: "Poing Stellaire", type: 'click_power', baseCost: 250000000, costMultiplier: 1.5, baseEffect: 2500, level: 0 
            },
            'galaxial-strike': { 
                name: "Frappe Galactique", type: 'click_power', baseCost: 1000000000, costMultiplier: 1.5, baseEffect: 5000, level: 0 
            },
            'infinite-power': { 
                name: "Puissance Infinie", type: 'click_power', baseCost: 5000000000, costMultiplier: 1.5, baseEffect: 10000, level: 0 
            },
            'divine-might': { 
                name: "Puissance Divine", type: 'click_power', baseCost: 25000000000, costMultiplier: 1.5, baseEffect: 25000, level: 0 
            },
            'cosmic-force': { 
                name: "Force Cosmique", type: 'click_power', baseCost: 100000000000, costMultiplier: 1.5, baseEffect: 50000, level: 0 
            },
            'genesis-touch': { 
                name: "Toucher de la Gen√®se", type: 'click_power', baseCost: 500000000000, costMultiplier: 1.5, baseEffect: 100000, level: 0 
            },
            'creation-fist': { 
                name: "Poing de la Cr√©ation", type: 'click_power', baseCost: 2500000000000, costMultiplier: 1.5, baseEffect: 250000, level: 0 
            },
            'omega-strike': { 
                name: "Frappe Om√©ga", type: 'click_power', baseCost: 10000000000000, costMultiplier: 1.5, baseEffect: 500000, level: 0 
            },
            'primordial-punch': { 
                name: "Coup Primordial", type: 'click_power', baseCost: 50000000000000, costMultiplier: 1.5, baseEffect: 1000000, level: 0 
            },
            'ascendant-blow': { 
                name: "Frappe Ascendante", type: 'click_power', baseCost: 250000000000000, costMultiplier: 1.5, baseEffect: 2500000, level: 0 
            },
            'ultimate-force': { 
                name: "Force Ultime", type: 'click_power', baseCost: 1000000000000000, costMultiplier: 1.5, baseEffect: 5000000, level: 0 
            },
            'infinite-strike': { 
                name: "Frappe Infinie", type: 'click_power', baseCost: 5000000000000000, costMultiplier: 1.5, baseEffect: 10000000, level: 0 
            },
            'cosmic-punch': { 
                name: "Coup Cosmique", type: 'click_power', baseCost: 25000000000000000, costMultiplier: 1.5, baseEffect: 25000000, level: 0 
            },
            'ethernal-fist': { 
                name: "Poing √âternel", type: 'click_power', baseCost: 100000000000000000, costMultiplier: 1.5, baseEffect: 50000000, level: 0 
            },
            'divine-fury': { 
                name: "Fureur Divine", type: 'click_power', baseCost: 500000000000000000, costMultiplier: 1.5, baseEffect: 100000000, level: 0 
            },
        };

        // Obtenir les √©l√©ments HTML
        const clicksDisplay = document.getElementById('clicks-display');
        const cpsDisplay = document.getElementById('cps-display');
        const clickPowerDisplay = document.getElementById('click-power-display');
        const mainButton = document.getElementById('main-button');
        const importButton = document.getElementById('import-button');
        const exportButton = document.getElementById('export-button');
        const changeImageButton = document.getElementById('change-image-button'); 
        const upgradeButtons = {}; // Stocke les r√©f√©rences des boutons et leurs √©l√©ments de co√ªt/niveau

        // Liste d'URLs d'images pour le bouton principal
        const imageUrls = [
            "https://images.emojiterra.com/google/android-11/1024px/1f354.png", // Burger
            "https://images.emojiterra.com/google/android-11/1024px/1f36a.png", // Cookie
            "https://images.emojiterra.com/google/android-11/1024px/1f35f.png", // Frites
            "https://images.emojiterra.com/google/android-11/1024px/1f366.png", // Glace
            "https://images.emojiterra.com/google/android-11/1024px/1f369.png", // Donut
            "https://images.emojiterra.com/google/android-11/1024px/1f355.png"  // Pizza
        ];
        let currentImageIndex = 0; // Index de l'image actuelle

        // Initialisation des boutons et des affichages
        for (const key in upgrades) {
            const upgrade = upgrades[key];
            const buttonElement = document.getElementById(`buy-${key}`);
            const costDisplayElement = document.getElementById(`cost-${key}`);
            const levelDisplayElement = document.getElementById(`level-${key}`);

            if (buttonElement && costDisplayElement && levelDisplayElement) {
                upgradeButtons[key] = {
                    button: buttonElement,
                    costDisplay: costDisplayElement,
                    levelDisplay: levelDisplayElement
                };
                // Mettre √† jour le texte initial du bouton
                upgradeButtons[key].costDisplay.textContent = formatNumber(upgrade.baseCost);
                upgradeButtons[key].levelDisplay.textContent = upgrade.level;
                // Ajouter l'√©couteur d'√©v√©nement
                buttonElement.addEventListener('click', () => buyUpgrade(key));
            } else {
                console.warn(`√âl√©ment HTML ou donn√©es manquantes pour l'am√©lioration: ${key}. V√©rifiez les IDs HTML et les donn√©es dans 'upgrades'.`);
            }
        }

        // --- Fonctions du Jeu ---

        // Fonction pour formater les grands nombres (ex: 1234567 -> 1.23M)
        function formatNumber(num) {
            if (num < 1000000) { // Nombres inf√©rieurs √† 1 million
                return Math.floor(num).toString();
            }
            if (num >= 1e21) return (num / 1e21).toFixed(2) + ' Sext.'; // Sextillions
            if (num >= 1e18) return (num / 1e18).toFixed(2) + ' Quint.'; // Quintillions
            if (num >= 1e15) return (num / 1e15).toFixed(2) + ' Quad.'; // Quadrillions
            if (num >= 1e12) return (num / 1e12).toFixed(2) + ' T.';   // Trillions
            if (num >= 1e9) return (num / 1e9).toFixed(2) + ' B.';   // Billions (milliards)
            if (num >= 1e6) return (num / 1e6).toFixed(2) + ' M.';   // Millions
            return num.toString(); // Fallback pour les nombres tr√®s petits ou inattendus
        }


        // Fonction pour calculer le CPS total
        function calculateTotalCps() {
            let currentCps = 0; // Calculer le CPS de base
            // Ajouter le CPS de chaque g√©n√©rateur
            for (const key in upgrades) {
                const upgrade = upgrades[key];
                if (upgrade.type === 'cps') {
                    currentCps += upgrade.baseEffect * upgrade.level;
                }
            }
            totalCps = currentCps; // Mettre √† jour la variable globale totalCps
        }

        // Fonction pour recalculer la puissance de clic totale
        function recalculateClickPower() {
            let currentPower = baseClickPower; // Commence avec la puissance de clic de base
            for (const key in upgrades) {
                const upgrade = upgrades[key];
                if (upgrade.type === 'click_power') {
                    // Pour chaque niveau d'am√©lioration de click_power, on ajoute son effet de base
                    currentPower += upgrade.baseEffect * upgrade.level; 
                }
            }
            return currentPower; // Renvoie la puissance de clic calcul√©e
        }


        // Fonction pour mettre √† jour l'affichage et l'√©tat des boutons
        function updateDisplay() {
            clicksDisplay.textContent = formatNumber(clicks);
            calculateTotalCps(); // Recalcule le CPS avant l'affichage
            cpsDisplay.textContent = totalCps.toFixed(2); // Affiche le CPS avec 2 d√©cimales
            clickPowerDisplay.textContent = formatNumber(recalculateClickPower()); // Recalcule et affiche la puissance de clic

            // Mettre √† jour les co√ªts affich√©s et l'√©tat des boutons
            for (const key in upgrades) {
                const upgrade = upgrades[key];
                // Calcule le co√ªt actuel bas√© sur le niveau de l'am√©lioration
                const currentCost = Math.floor(upgrade.baseCost * Math.pow(upgrade.costMultiplier, upgrade.level));
                
                // Mettre √† jour le texte du bouton et le niveau
                if (upgradeButtons[key]) { // V√©rifiez que l'√©l√©ment HTML existe
                    upgradeButtons[key].costDisplay.textContent = formatNumber(currentCost);
                    upgradeButtons[key].levelDisplay.textContent = upgrade.level;
                    upgradeButtons[key].button.disabled = clicks < currentCost;
                }
            }
        }

        // Fonction quand le bouton principal est cliqu√©
        function clickMainButton() {
            clicks += recalculateClickPower(); // Utilise la puissance de clic actuelle
            updateDisplay();
        }

        // Fonction pour ajouter 1000 clics (pour la touche M)
        function addTestClicks() {
            clicks += 1000;
            updateDisplay();
        }

        // Fonction pour acheter une am√©lioration g√©n√©rique
        function buyUpgrade(upgradeKey) {
            const upgrade = upgrades[upgradeKey];
            const currentCost = Math.floor(upgrade.baseCost * Math.pow(upgrade.costMultiplier, upgrade.level));

            if (clicks >= currentCost) {
                clicks -= currentCost;
                upgrade.level++; // Augmente le niveau de l'am√©lioration
                updateDisplay(); // Met √† jour l'affichage apr√®s l'achat
            } else {
                // Pas besoin d'alerte, le bouton est d√©sactiv√© si pas assez de clicks
            }
        }

        // Logique des clicks automatiques
        function applyAutoClicks() {
            clicks += totalCps / 10; // Divis√© par 10 car l'intervalle est de 100ms (1 seconde / 100ms = 10)
            updateDisplay(); // Met √† jour l'affichage r√©guli√®rement
        }

        // --- Fonctions de Sauvegarde / Chargement ---

        function exportGame() {
            const gameData = {
                clicks: clicks,
                upgrades: {},
                currentImageIndex: currentImageIndex 
            };

            for (const key in upgrades) {
                gameData.upgrades[key] = upgrades[key].level;
            }

            const jsonString = JSON.stringify(gameData, null, 2);
            const blob = new Blob([jsonString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'clicker_save.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            alert("Progression export√©e ! Fichier 'clicker_save.json' t√©l√©charg√©.");
        }

        function importGame() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';

            input.onchange = e => {
                const file = e.target.files[0];
                if (!file) {
                    return;
                }

                const reader = new FileReader();
                reader.onload = function(event) {
                    try {
                        const importedData = JSON.parse(event.target.result);
                        clicks = importedData.clicks || 0;
                        
                        for (const key in upgrades) {
                            if (importedData.upgrades && importedData.upgrades[key] !== undefined) {
                                upgrades[key].level = importedData.upgrades[key];
                            } else {
                                upgrades[key].level = 0;
                            }
                        }

                        // Charge l'index de l'image si pr√©sent, sinon utilise la premi√®re
                        if (importedData.currentImageIndex !== undefined) {
                            currentImageIndex = importedData.currentImageIndex;
                            mainButton.src = imageUrls[currentImageIndex];
                        }
                        
                        updateDisplay();
                        alert("Progression import√©e avec succ√®s !");

                    } catch (e) {
                        alert("Erreur lors de l'importation du fichier JSON. Le fichier est peut-√™tre corrompu ou au mauvais format.");
                        console.error("Erreur JSON:", e);
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        // --- Fonctions de changement d'image principale ---
        function changeMainImage() {
            currentImageIndex = (currentImageIndex + 1) % imageUrls.length;
            mainButton.src = imageUrls[currentImageIndex];
        }

        // Associer les fonctions aux boutons
        exportButton.addEventListener('click', exportGame);
        importButton.addEventListener('click', importGame);
        changeImageButton.addEventListener('click', changeMainImage); 

        // --- Gestion des Clics Souris et Clavier ---
        mainButton.addEventListener('click', clickMainButton);

        // √âcouteur d'√©v√©nement keyup pour la touche Espace (un clic par appui)
        document.addEventListener('keyup', (event) => {
            if (event.code === 'Space') {
                event.preventDefault(); // Emp√™che le comportement par d√©faut (ex: d√©filement)
                clickMainButton(); // D√©clenche un seul clic
            }
        });

        // NOUVEL √âcouteur d'√©v√©nement keydown pour la touche M (ajouts rapides en maintenant)
        document.addEventListener('keydown', (event) => {
            if (event.code === 'KeyM') { // 'KeyM' correspond √† la touche 'M'
                event.preventDefault(); // Emp√™che le comportement par d√©faut (ex: d√©filement si 'M' avait une action)
                addTestClicks(); // Ajoute 1000 clics
            }
        });

        // --- Initialisation du Jeu ---

        // D√©finit un intervalle pour les auto-clicks (toutes les 100 millisecondes pour des mises √† jour fluides)
        setInterval(applyAutoClicks, 100);

        // Mise √† jour initiale de l'affichage et de l'√©tat des boutons
        updateDisplay();
    </script>
</body>
</html>